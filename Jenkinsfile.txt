pipeline {
    agent any
    stages {
		
		
		// ******ALL CODE TO BE ADDED BELOW THIS COMMENT******


		//maven clean stage
		stage('Clean'){
			steps{
				sh 'mvn clean'
			}
		}
		//maven clean ends

		//code starts for PMD stage(for static analysis)

		//stage('PMD'){
		//	steps{
		//		sh 'mvn site'
		//	}
		//}
		//code ends for PMD

		//code starts for creating build (MVN compile)

		stage('Compile'){
			steps{
				sh 'mvn compile'
			}
		}
		//code ends for compile

		//Code starts for stage Unit Test
		stage('Unit Test') {
		    steps {
			sh 'mvn test'
		    }    
		    post {
			always {
			    junit 'target/surefire-reports/*.xml'
			}
		    }
		}
        //Code ends for stage Unit Test
	
		// ******ALL CODE TO BE ADDED ABOVE THIS COMMENT******
    }
}
